<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja">
<head>
<meta charset="utf-8">
<link rel="stylesheet" type="text/css" th:href="@{/css/style.css}" />
<title>カート</title>
<style>
th {
	background-color: rgb(255, 185, 185);
	border: "1";
}

h1 {
	font-size: 1.5em;
	line-height: 1.2em;
	text-align: center;
}

div.subtitle {
	font-size: 1.3em;
	font-weight: bold;
	padding-left: 115px;
	text-align: left;
}

p.sum {
	font-size: 1.3em;
	font-weight: bold;
	text-align: right;
	padding-right: 110px;
}
</style>
</head>
<body>
	<div th:replace="Header::header"></div>

	<h1>ショッピングカート</h1>

	<p th:text="${message}" class="error"></p>

	<div class="subtitle">予約情報</div>
	<form id="cart" th:object="${shoppingCartForm}" method="post"
		th:action="@{/payment/confirmation}">
		<table border="1" width="1000px">
			<tr>
				<th>ホテルコード</th>
				<th>ホテル名</th>
				<th>宿泊日</th>
				<th>料金</th>
				<th>部屋数</th>
				<th>小計</th>
			</tr>
			<tr th:each="order, st:*{orders}"
				data-im-format-options="useseparator">
				<td
					th:text="${shoppingCartForm.orders[__${st.index}__].hotelItem.hotel.hotelCode}">hotelCode</td>
				<td
					th:text="${shoppingCartForm.orders[__${st.index}__].hotelItem.hotel.name}">name</td>
				<td
					th:text="${shoppingCartForm.orders[__${st.index}__].hotelItem.date}">date</td>
				<td
					th:text="${#numbers.formatInteger(shoppingCartForm.orders[__${st.index}__].hotelItem.price, 3, 'COMMA')}+'円'">price</td>
				<td><input type="text"
					th:field="${shoppingCartForm.orders[__${st.index}__].quantity}"
					maxlength="2" size="3" style="width: 20px;">
					<div style="float: right;">
						&thinsp;
						<button type="submit"
							style="font-size: 15px; width: fit-content; height: 25px;"
							th:formaction="@{/payment/changeQuantity}">変更</button>
					</div></td>
				<td
					th:text="${#numbers.formatInteger(shoppingCartForm.orders[__${st.index}__].subTotal, 3, 'COMMA')}+'円'">price</td>
			</tr>
		</table>
		<p class="sum">
			合計金額 <span
				th:text="*{#numbers.formatInteger(orderTotal, 3, 'COMMA')}+'円'"></span>
		</p>
		<br>
		<div style="text-align: right;">
			<button form="cart" type="submit">予約</button>
		</div>
	</form>
	<form th:action="@{/hotelfind/findhotel}" style="float: left;">
		<button type="submit" class="test">ホテル検索画面へ</button>
	</form>

</body>
</html>
